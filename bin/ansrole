#!/bin/sh

ROLE_NAME="${1}"
test -z "${ROLE_NAME}" && { echo "No role specified!"; exit 1; }
ROLES_DIR=.


for i in defaults files handlers tasks templates; do
    mkdir -p "${ROLES_DIR}/${ROLE_NAME}/${i}"
done
for i in defaults handlers tasks; do
    FILE_NAME="${ROLE_NAME}/${i}/main.yaml"
    cat <<EOF > "${ROLES_DIR}/${FILE_NAME}"
---
# ${FILE_NAME}

EOF
done

cat <<EOF > "${ROLES_DIR}/${ROLE_NAME}/README.markdown"
# ${ROLE_NAME}

## Requirements

## Variables

## Example

\`\`\`yaml
- hosts: all
  roles:
    - ${ROLE_NAME}
\`\`\`
EOF
